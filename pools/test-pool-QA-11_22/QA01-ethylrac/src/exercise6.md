# Checklist

## Возможность незарегистрированного пользователя просматривать отзывы и рейтинги на банки и банковские продукты
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Поиск банков и продуктов".
### Ожидаемый результат:
  Открывается страница с банками и продуктами. У каждого банка или банковского продукта можно увидеть рейтинг (от 1 до 5 закрашенных звездочки).
`Resolution: Passed. Everything is OK.`

## Регистрация клиента через пользовательский интерфейс
### Шаги: 
1. Нажать на иконку "ключа" в верхнем правом углу.
2. Под основной формой авторизации нажать на гиперссылку “Регистрация”.
3. В открывшейся форме “Регистрация” заполнить все поля, введя корректные данные и нажать на кнопку “Зарегистрироваться”.
### Ожидаемый результат:
  Клиент зарегистрирован. Данные о клиенте попадают в базу данных на сервере. 
  Открывается  главная страница.
`Resolution: Passed. Everything is OK.`

## Регистрация работника банка через пользовательский интерфейс
### Предшествующие условия: 
  Банк, в котором надо зарегистрировать сотрудника, уже существует. 
### Шаги: 
1. Нажать на иконку "ключа" в верхнем правом углу.
2. Под основной формой авторизации нажать на гиперссылку “Регистрация”.
3. Под появившейся формой нажать на гиперссылку “Регистрация работника”. 
  Ожидаемый результат: В открывшейся форме “Регистрация” появится дополнительное обязательное поле — Банк.
4. Заполнить все поля, введя корректные данные и нажать на кнопку “Регистрация”.
### Ожидаемый результат:
  Работник банка зарегистрирован. Данные о работнике банка попадают в соответствующую базу данных на сервере. Открывается  главная страница.
`Resolution: Passed. Everything is OK.`

## Авторизация пользователя
### Предшествующие условия: 
  Пользователь должен существовать в БД (почта: s21test1@ya.ru, пароль 123456)
  Пользователь находится на главной странице веб-приложения.
  Пользователь еще не залогинен.
### Шаги: 
1. Нажать на иконку "ключа" в верхнем правом углу.
2. В появившейся форме "Авторизация" ввести корректные входные данные уже существующего пользователя и нажать на кнопку "Войти".
### Ожидаемый результат:
  Пользователь залогинен. Открывается  главная страница. 
  Раздел Меню "Профиль"  становится активным и при нажатии на него открывается раздел "Профиль", в котором указаны введенные входные данные. 
`Resolution: Passed. Everything is OK.`

## Авторизация администратора
### Шаги: 
1. Нажать на иконку "ключа" в верхнем правом углу.
2. В появившейся форме "Авторизация" ввести входные данные (Почта: admin@mail.ru, пароль: Admin) и нажать на кнопку "Войти".
### Ожидаемый результат:
  Администратор залогинен. Открывается  главная страница. 
`Resolution: Passed. Everything is OK.`

## Возможность авторизованного клиента оставлять отзывы
### Предшествующие условия:
  Пользователь залогинен и находится на главной странице. 
### Шаги:
1. Нажать на кнопку "Перейти к работе".
2. Нажать на ссылку "Продукты" и выбрать нужный продукт. 
3. На открывшейся странице нажать на кнопку "Написать отзыв". 
4. В появившейся форме "Создание отзыва" выбрать нужное количество звезд, написать сообщение и нажать на кнопку "Ответить".
### Ожидаемый результат:
  После нажатия на кнопку "Ответить" форма "Создание отзыва" закрывается, и новый отзыв появляется на странице продукта под названием продукта (если других отзывов не было) или под последним отзывом.
`Resolution: Passed. Everything is OK.`

## Возможность авторизованного клиента отвечать на чужие отзывы
### Предшествующие условия:
  Пользователь залогинен и находится на главной странице. 
### Шаги:
1. Нажать на кнопку "Перейти к работе".
2. Нажать на ссылку "Продукты" и выбрать нужный продукт. 
3. На открывшейся странице под одним из отзывов нажать на кнопку "Комментарии". 
4. На новой странице нажать на кнопку "Ответить".
4. В появившейся форме "Создание ответа" написать сообщение и нажать на кнопку "Ответить".
### Ожидаемый результат:
  После нажатия на кнопку "Ответить" форма "Создание ответа" закрывается, и новый ответ появляется на странице отзыва.
`Resolution: Fails -- новый ответ не появляется сразу на странице с отзывом. Чтобы увидеть ответ надо обновить страницу.`

## Возможность авторизованного клиента предложить банковский продукт, если его нет в базе BankReview
### Предшествующие условия:
  Пользователь залогинен и находится на главной странице.
  Создается продукт с названием, которого нет еще в базе BankReview
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Нажать на раздел “Предложить банк или продукт”.
3. Заполнить поля формы “Предложение банка или продукта” и нажать на кнопку "Создать". 
### Ожидаемый результат:
  После заполнения формы и нажатия на кнопку "Отправить", форма закрывается, новый продукт добавляется в раздел "Поиск банков и продуктов".
 `Resolution: `
 `Step 3 fails -- `
 `- В форме находится обязательное поле "Отзыв"`
 `- После нажатия на кнопку "Создать" не выходит сообщение "Новый продукт создан", форма не закрывается. Есть риск дублирования продуктов, тк пользователь будет несколько раз нажимать на кнопку "Создать", потому что не знает точно, создан продукт или нет. `

## Возможность сотрудника банка смотреть статистику по банковским продуктам своего банка
### Предшествующие условия:
  Сотрудник банка залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Статистика".
### Ожидаемый результат:
  Открывается страница со статистикой по продуктам банка.
`Resolution: `
 `Step 2 fails -- `
 `- В меню отсутвует раздел "Статистика"`

## Возможность сотрудника банка добавлять банковские продукты
### Предшествующие условия:
  Сотрудник банка залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Создание продукта".
### Ожидаемый результат:
  Открывается форма "Создание продукта".
`Resolution: `
 `Step 2 fails -- `
 `- В меню отсутвует раздел "Создание продукта"`

## Возможность администратора добавлять банки
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Создание банка".
3. Заполнить форму "Создание банка" и нажать на кнопку "Отправить".
### Ожидаемый результат:
  Форма "Создание банка" закрывается и новый банк появляется в базе, на странице "Поиск банков" и в выпадающем списке формы "Создание продукта".
`Resolution: Passed. Everything is OK.`

## Возможность администратора изменять банки
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы и выбрать раздел "Поиск банков и продуктов".
2. Найти нужный банк и нажать на него.
3. На странице банка нажать на кнопку "Редактировать".
4. В новой форме "Редактирование банка" заполнить поля и нажать на кнопку "Сохранить".
### Ожидаемый результат:
  Форма закрывается, внесенные в форму изменения внесены в описание банка.
`Resolution: Passed. Everything is OK.`

## Возможность администратора добавлять банковские продукты
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Создание банка".
3. Заполнить форму "Создание банка" и нажать на кнопку "Отправить".
### Ожидаемый результат:
  Форма "Создание банка" закрывается и новый банк появляется в базе, на странице "Поиск банков" и в выпадающем списке формы "Создание продукта".
`Resolution: Passed. Everything is OK.`

## Возможность администратора изменять банковские продукты
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы и выбрать раздел "Поиск банков и продуктов".
2. Найти нужный банк и нажать на него.
3. На странице банка нажать на кнопку "Редактировать".
4. В новой форме "Редактирование банка" заполнить поля и нажать на кнопку "Сохранить".
### Ожидаемый результат:
  Форма закрывается, внесенные в форму изменения внесены в описание банка.
`Resolution: Passed. Everything is OK.`

## Возможность администратора модерировать отзывы клиентов
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы и выбрать раздел "Модерация отзывов".
2. Найти нужный отзыв, нажать на кнопку "Редактировать".
3. В форме "Редактирование отзыва" внести нужные изменения и нажать на кнопку "Опубликовать".
### Ожидаемый результат:
  Форма закрывается, внесенные в форму изменения внесены, отзыв появляется на сайте.
`Resolution: Passed. Everything is OK.`

## Возможность администратора прикреплять сотрудника к банкам
### Предшествующие условия:
  Администратор залогинен и находится на главной странице. 
### Шаги:
1. Нажать на иконку “гамбургер” в левом верхнем углу главной страницы. 
2. Выбрать раздел "Создание сотрудника".
### Ожидаемый результат:
  Открывается форма "Создание сотрудника".

`Resolution: `
 `Step 2 fails -- `
 `- В меню отсутвует раздел "Создание сотрудника"`

## Авторизация пользователя в Postman через API
### Предшествующие условия
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman

### Шаги:
1. Открыть new API POST ​/api​/authorization​/login
2. В теле запроса (Body) указать почту и пароль для входа в аккаунт. Тип данных - JSON. Например, чтобы войти в аккаунт администратора, нужно вписать:
    ```
    {
      "email": "admin@mail.ru",
      "password": "Admin"
    }
    ```
3. Выполнить запрос кнопкой Send
4. Скопировать access token из ответа от сервера
5. Нажать на кнопку Authorization вверху страницы, в правой части 
6. В открывшемся текстовом поле вписать bearer <token>, вместо <token> вставить текст из п4.
7. Выполнить запрос
### Ожидаемый результат
- Получен access token, авторизация прошла успешно
`Результат: Успешно`

## Создание банка через API
### Предшествующие условия
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman
- Пользователь авторизован в аккаунте администратора, получен access token
### Шаги
1. Открыть API POST /api​/banks
2. Заполнить все необходимые поля. Например:
    ```
    {
      "name": "TintinBank",
      "description": "Тиньтиньбанк",
      "shortName": "Tintin"
    }
    ```
3. Выполнить запрос кнопкой Send
### Ожидаемый результат
Получен ответ от сервера
```
{
  "bankId": "...",
  "name": "TintinBank",
  "description": "Тиньтиньбанк",
  "state": 2,
  "rating": 0,
  "shortName": "Tintin"
}
```
`Результат: Успешно`

## Получение bankId через API
### Предшествующие условия:
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman
- Пользователь авторизован, получен access token
- Произведена регистрация банка
### Шаги:
1. Выполнить запрос GET /api​/banks
### Ожидаемый результат:
Получен ответ от сервера
```
[
  {
    "bankId": "85bcc92d-84f6-4149-91d3-3ce42e8c6674",
    "name": "TintinBank",
    "description": "Тиньтиньбанк",
    "state": 2,
    "rating": 0,
    "shortName": "A"
  }
]
```
`Результат: Успешно. Пользователь получает данные всех банков`

## Получение списка ролей через API
### Предшествующие условия
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman
- Пользователь авторизован, получен access token
### Шаги
1. Выполнить запрос GET /api/roles
### Ожидаемый результат
Пример ответа:
```
[
  {
    "roleId": "1f18f16c-d73f-4234-b8fd-33ff6242dab2",
    "name": "Admin"
  },
  {
    "roleId": "b6ac9a45-4032-4289-b439-2cc4d65c3f18",
    "name": "Client"
  },
  {
    "roleId": "2258b464-f412-4ccd-80f4-6ec3053fd4a5",
    "name": "Employee"
  }
]
```
`Результат: Провалено. В списке ролей присутствуют дубли и роли непонятного назначения`

## Регистрация пользователя через API
### Предшествующие условия
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman
- Получен roleId клиента
### Сценарий 
1. Открыть API POST ​/api​/authorization​/register
2. Заполнить все необходимые поля в теле запроса. Поле roleId нужно сменить на id роли клиента.  Пример:
    ```
    {
      "name": "veryuser1",
      "birthday": "2022-09-19T16:25:08.562Z",
      "sex": 0,
      "email": "veryuser1@mail.ru",
      "password": "password",
      "roleId": "b6ac9a45-4032-4289-b439-2cc4d65c3f18"
    }
    ```
3. Выполнить запрос кнопкой Send

### Ожидаемый результат
Результат после выполнения запроса:
```
{
  "userId": "...",
  "name": "veryuser",
  "birthaday": "2022-09-19T16:25:08.562Z",
  "sex": 0,
  "email": "veryuser@mail.ru",
  "roleId": "b6ac9a45-4032-4289-b439-2cc4d65c3f18",
  "bankId": null,
  "state": 0
}
```
`Результат: Успешно`

## Регистрация работника банка через API
### Предшествующие условия
- У пользователя стабильное подключение к сети
- Пользователь имеет доступ к сервису Postman
- Получен roleId клиента, bankId

### Шаги
1. Открыть API POST ​/api​/authorization​/register
2. Заполнить все необходимые поля в теле запроса. Поле roleId поменяй на id роли работника, а в поле bankId тебе нужно вставить id банка, работником которого является регистрируемый пользователь. Пример:
    ```
    {
      "name": "verystaff",
      "birthday": "2022-09-19T16:25:08.562Z",
      "sex": 0,
      "email": "verystaff@mail.ru",
      "password": "password",
      "roleId": "2258b464-f412-4ccd-80f4-6ec3053fd4a5",
      "bankId": "6d1dec6d-ce7c-4c4d-bd43-c84cf9498249"
    }
    ```

### Ожидаемый результат
Пример ответа:
```
{
  "userId": "...",
  "name": "verystaff",
  "birthaday": "2022-09-19T16:25:08.562Z",
  "sex": 0,
  "email": "verystaff@mail.ru",
  "roleId": "2258b464-f412-4ccd-80f4-6ec3053fd4a5",
  "bankId": "6d1dec6d-ce7c-4c4d-bd43-c84cf9498249",
  "state": 1
}
```
`Результат: Успешно`

# Новые тест-кейсы для использования техник класса эквивалентности и граничных значений

Я сделала таблицу со значениями, которые надо проверить. Сначала идут тесты, которые должны привести к удачному результату, потом идет таблица с неверным значением. В рамках входных данных используются пограничные значения. Каждый из тестов является классов эквивалентности. 
Начало кейса для всех вводимых значений одинаковое: 

## Класс эквивалентности с корректными входными данными:

### Шаги: 
1. Нажать на иконку "ключа" в верхнем правом углу.
2. Под основной формой авторизации нажать на гиперссылку “Регистрация”.
3. В открывшейся форме “Регистрация” заполнить все поля, введя входные данные из таблицы ниже и нажать на кнопку “Зарегистрироваться”.

![traceability_matrix](pic1.png)

## Класс эквивалентности с некорректными входными данными:

![traceability_matrix](pic2.png)


В данных тестах я использовала технику граничных значений в тестах: 
3, 4, 5, 6, 23, 26 - 33, 37, 43. 